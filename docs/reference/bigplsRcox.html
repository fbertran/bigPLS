<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Partial least squares Regression generalized linear models — bigplsRcox • bigPLS</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="Partial least squares Regression generalized linear models — bigplsRcox" />
<meta property="og:description" content="This function implements an extension of Partial least squares Regression to
Cox Models." />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">bigPLS</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.2.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/fbertran/bigPLS/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Partial least squares Regression generalized linear models</h1>
    <small class="dont-index">Source: <a href='https://github.com/fbertran/bigPLS/blob/master/R/bigplsRcox.R'><code>R/bigplsRcox.R</code></a></small>
    <div class="hidden name"><code>bigplsRcox.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function implements an extension of Partial least squares Regression to
Cox Models.</p>
    </div>

    <pre class="usage"><span class='fu'>bigplsRcox</span><span class='op'>(</span><span class='va'>formula</span>, <span class='va'>data</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='fu'>bigplsRcoxmodel</span><span class='op'>(</span><span class='va'>formula</span>, <span class='va'>data</span>, <span class='va'>...</span><span class='op'>)</span>

<span class='co'># S3 method for default</span>
<span class='fu'>bigplsRcoxmodel</span><span class='op'>(</span>
  formula <span class='op'>=</span> <span class='fu'>Surv</span><span class='op'>(</span>time <span class='op'>=</span> <span class='va'>time</span>, status <span class='op'>=</span> <span class='va'>status</span><span class='op'>)</span> <span class='op'>~</span> <span class='va'>.</span>,
  <span class='va'>data</span>,
  deepcopy_data <span class='op'>=</span> <span class='cn'>TRUE</span>,
  scale.X <span class='op'>=</span> <span class='cn'>TRUE</span>,
  scale.Y <span class='op'>=</span> <span class='cn'>TRUE</span>,
  nt <span class='op'>=</span> <span class='fl'>2</span>,
  type <span class='op'>=</span> <span class='st'>"double"</span>,
  allres <span class='op'>=</span> <span class='cn'>TRUE</span>,
  verbose <span class='op'>=</span> <span class='cn'>TRUE</span>,
  backingfile <span class='op'>=</span> <span class='cn'>NULL</span>,
  backingpath <span class='op'>=</span> <span class='cn'>NULL</span>,
  descriptorfile <span class='op'>=</span> <span class='cn'>NULL</span>,
  <span class='va'>...</span>
<span class='op'>)</span></pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>...</th>
      <td><p>arguments to pass to <code>plsRmodel.default</code> or to
<code>plsRmodel.formula</code></p></td>
    </tr>
    <tr>
      <th>nt</th>
      <td><p>number of components to be extracted</p></td>
    </tr>
    <tr>
      <th>type</th>
      <td><p>character string specifying the type of censoring. Possible
values are <code>"right"</code>, <code>"left"</code>, <code>"counting"</code>,
<code>"interval"</code>, or <code>"interval2"</code>. The default is <code>"right"</code> or
<code>"counting"</code> depending on whether the <code>time2</code> argument is absent
or present, respectively.</p></td>
    </tr>
    <tr>
      <th>allres</th>
      <td><p>FALSE to return only the Cox model and TRUE for additionnal
results. See details. Defaults to FALSE.</p></td>
    </tr>
    <tr>
      <th>verbose</th>
      <td><p>Should some details be displayed ?</p></td>
    </tr>
    <tr>
      <th>Xplan</th>
      <td><p>a formula or a matrix with the eXplanatory variables (training)
dataset</p></td>
    </tr>
    <tr>
      <th>time</th>
      <td><p>for right censored data, this is the follow up time. For
interval data, the first argument is the starting time for the interval.</p></td>
    </tr>
    <tr>
      <th>time2</th>
      <td><p>The status indicator, normally 0=alive, 1=dead. Other choices
are <code>TRUE/FALSE</code> (<code>TRUE</code> = death) or 1/2 (2=death). For interval
censored data, the status indicator is 0=right censored, 1=event at
<code>time</code>, 2=left censored, 3=interval censored. Although unusual, the
event indicator can be omitted, in which case all subjects are assumed to
have an event.</p></td>
    </tr>
    <tr>
      <th>event</th>
      <td><p>ending time of the interval for interval censored or counting
process data only. Intervals are assumed to be open on the left and closed
on the right, <code>(start, end]</code>. For counting process data, event
indicates whether an event occurred at the end of the interval.</p></td>
    </tr>
    <tr>
      <th>origin</th>
      <td><p>for counting process data, the hazard function origin. This
option was intended to be used in conjunction with a model containing time
dependent strata in order to align the subjects properly when they cross
over from one strata to another, but it has rarely proven useful.</p></td>
    </tr>
    <tr>
      <th>typeres</th>
      <td><p>character string indicating the type of residual desired.
Possible values are <code>"martingale"</code>, <code>"deviance"</code>, <code>"score"</code>,
<code>"schoenfeld"</code>, <code>"dfbeta"</code>, <code>"dfbetas"</code>, and
<code>"scaledsch"</code>. Only enough of the string to determine a unique match is
required.</p></td>
    </tr>
    <tr>
      <th>collapse</th>
      <td><p>vector indicating which rows to collapse (sum) over. In
time-dependent models more than one row data can pertain to a single
individual. If there were 4 individuals represented by 3, 1, 2 and 4 rows of
data respectively, then <code>collapse=c(1,1,1,2,3,3,4,4,4,4)</code> could be used
to obtain per subject rather than per observation residuals.</p></td>
    </tr>
    <tr>
      <th>weighted</th>
      <td><p>if <code>TRUE</code> and the model was fit with case weights, then
the weighted residuals are returned.</p></td>
    </tr>
    <tr>
      <th>scaleX</th>
      <td><p>Should the <code>Xplan</code> columns be standardized ?</p></td>
    </tr>
    <tr>
      <th>scaleY</th>
      <td><p>Should the <code>time</code> values be standardized ?</p></td>
    </tr>
    <tr>
      <th>limQ2set</th>
      <td><p>limit value for the Q2</p></td>
    </tr>
    <tr>
      <th>dataPredictY</th>
      <td><p>predictor(s) (testing) dataset</p></td>
    </tr>
    <tr>
      <th>pvals.expli</th>
      <td><p>should individual p-values be reported to tune model
selection ?</p></td>
    </tr>
    <tr>
      <th>alpha.pvals.expli</th>
      <td><p>level of significance for predictors when
pvals.expli=TRUE</p></td>
    </tr>
    <tr>
      <th>tol_Xi</th>
      <td><p>minimal value for Norm2(Xi) and \(\mathrm{det}(pp' \times
pp)\) if there is any missing value in the <code>dataX</code>. It
defaults to \(10^{-12}\)</p></td>
    </tr>
    <tr>
      <th>weights</th>
      <td><p>an optional vector of 'prior weights' to be used in the
fitting process. Should be <code>NULL</code> or a numeric vector.</p></td>
    </tr>
    <tr>
      <th>subset</th>
      <td><p>an optional vector specifying a subset of observations to be
used in the fitting process.</p></td>
    </tr>
    <tr>
      <th>dataXplan</th>
      <td><p>an optional data frame, list or environment (or object
coercible by <code><a href='https://rdrr.io/r/base/as.data.frame.html'>as.data.frame</a></code> to a data frame) containing the
variables in the model. If not found in <code>dataXplan</code>, the variables are
taken from <code><a href='https://rdrr.io/r/base/environment.html'>environment(Xplan)</a></code>, typically the environment from which
<code>coxDKplsDR</code> is called.</p></td>
    </tr>
    <tr>
      <th>model_frame</th>
      <td><p>If <code>TRUE</code>, the model frame is returned.</p></td>
    </tr>
    <tr>
      <th>method</th>
      <td><p>the method to be used in fitting the model. The default method
<code>"glm.fit"</code> uses iteratively reweighted least squares (IWLS).
User-supplied fitting functions can be supplied either as a function or a
character string naming a function, with a function which takes the same
arguments as <code>glm.fit</code>.</p></td>
    </tr>
    <tr>
      <th>control</th>
      <td><p>a list of parameters for controlling the fitting process. For
<code>glm.fit</code> this is passed to <code><a href='https://rdrr.io/r/stats/glm.control.html'>glm.control</a></code>.</p></td>
    </tr>
    <tr>
      <th>sparse</th>
      <td><p>should the coefficients of non-significant predictors
(&lt;<code>alpha.pvals.expli</code>) be set to 0</p></td>
    </tr>
    <tr>
      <th>sparseStop</th>
      <td><p>should component extraction stop when no significant
predictors (&lt;<code>alpha.pvals.expli</code>) are found</p></td>
    </tr>
    <tr>
      <th>model_matrix</th>
      <td><p>If <code>TRUE</code>, the model matrix is returned.</p></td>
    </tr>
    <tr>
      <th>contrasts.arg</th>
      <td><p>a list, whose entries are values (numeric matrices, 
functions or character strings naming functions) to be used as replacement 
values for the contrasts replacement function and whose names are the names 
of columns of data containing factors.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>Depends on the model that was used to fit the model.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>A typical predictor has the form response ~ terms where response is the
(numeric) response vector and terms is a series of terms which specifies a
linear predictor for response. A terms specification of the form first +
second indicates all the terms in first together with all the terms in
second with any duplicates removed.</p>
<p>A specification of the form first:second indicates the the set of terms
obtained by taking the interactions of all terms in first with all terms in
second. The specification first*second indicates the cross of first and
second. This is the same as first + second + first:second.</p>
<p>The terms in the formula will be re-ordered so that main effects come first,
followed by the interactions, all second-order, all third-order and so on:
to avoid this pass a terms object as the formula.</p>
<p>Non-NULL weights can be used to indicate that different observations have
different dispersions (with the values in weights being inversely
proportional to the dispersions); or equivalently, when the elements of
weights are positive integers w_i, that each response y_i is the mean of w_i
unit-weight observations.</p>
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>bigplsRcox, Cox-Models in a high dimensional setting in R, Frederic
Bertrand, Philippe Bastien, Nicolas Meyer and Myriam Maumy-Bertrand (2014).
Proceedings of User2014!, Los Angeles, page 152.<br /></p>
<p>Deviance residuals-based sparse PLS and sparse kernel PLS regression for
censored data, Philippe Bastien, Frederic Bertrand, Nicolas Meyer and Myriam
Maumy-Bertrand (2015), Bioinformatics, 31(3):397-404,
doi:10.1093/bioinformatics/btu660.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p><code><a href='https://fbertran.github.io/plsRglm/reference/plsR.html'>plsR</a></code> and <code><a href='https://fbertran.github.io/plsRglm/reference/plsRglm.html'>plsRglm</a></code></p></div>
    <h2 class="hasAnchor" id="author"><a class="anchor" href="#author"></a>Author</h2>

    <p>Frédéric Bertrand<br />
<a href='mailto:frederic.bertrand@lecnam.net'>frederic.bertrand@lecnam.net</a><br />
<a href='https://fbertran.github.io/homepage/'>https://fbertran.github.io/homepage/</a></p>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'>
<span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span><span class='op'>(</span><span class='va'>micro.censure</span><span class='op'>)</span>
<span class='fu'><a href='https://rdrr.io/r/utils/data.html'>data</a></span><span class='op'>(</span><span class='va'>Xmicro.censure_compl_imp</span><span class='op'>)</span>

<span class='va'>X_train_micro</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/apply.html'>apply</a></span><span class='op'>(</span><span class='op'>(</span><span class='fu'><a href='https://rdrr.io/r/base/matrix.html'>as.matrix</a></span><span class='op'>(</span><span class='va'>Xmicro.censure_compl_imp</span><span class='op'>)</span><span class='op'>)</span>,FUN<span class='op'>=</span><span class='st'>"as.numeric"</span>,MARGIN<span class='op'>=</span><span class='fl'>2</span><span class='op'>)</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>80</span>,<span class='op'>]</span>
<span class='va'>X_train_micro_df</span> <span class='op'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/data.frame.html'>data.frame</a></span><span class='op'>(</span><span class='va'>X_train_micro</span><span class='op'>)</span>
<span class='va'>Y_train_micro</span> <span class='op'>&lt;-</span> <span class='va'>micro.censure</span><span class='op'>$</span><span class='va'>survyear</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>80</span><span class='op'>]</span>
<span class='va'>C_train_micro</span> <span class='op'>&lt;-</span> <span class='va'>micro.censure</span><span class='op'>$</span><span class='va'>DC</span><span class='op'>[</span><span class='fl'>1</span><span class='op'>:</span><span class='fl'>80</span><span class='op'>]</span>

<span class='fu'>bigplsRcox</span><span class='op'>(</span><span class='va'>X_train_micro</span>,time<span class='op'>=</span><span class='va'>Y_train_micro</span>,event<span class='op'>=</span><span class='va'>C_train_micro</span>,nt<span class='op'>=</span><span class='fl'>5</span><span class='op'>)</span>
</div><div class='output co'>#&gt; ____************************************************____
#&gt; Using big matrix without backing and descriptor files</div><div class='output co'>#&gt; <span class='error'>Error in h(simpleError(msg, call)): erreur d'évaluation de l'argument 'filename' lors de la sélection d'une méthode pour la fonction 'read.big.matrix' : l'argument "data" est manquant, avec aucune valeur par défaut</span></div><div class='input'><span class='fu'>bigplsRcox</span><span class='op'>(</span><span class='op'>~</span><span class='va'>X_train_micro</span>,time<span class='op'>=</span><span class='va'>Y_train_micro</span>,event<span class='op'>=</span><span class='va'>C_train_micro</span>,nt<span class='op'>=</span><span class='fl'>5</span><span class='op'>)</span>
</div><div class='output co'>#&gt; ____************************************************____
#&gt; Using big matrix without backing and descriptor files</div><div class='output co'>#&gt; <span class='error'>Error in h(simpleError(msg, call)): erreur d'évaluation de l'argument 'filename' lors de la sélection d'une méthode pour la fonction 'read.big.matrix' : l'argument "data" est manquant, avec aucune valeur par défaut</span></div><div class='input'>
<span class='fu'>bigplsRcox</span><span class='op'>(</span>Xplan<span class='op'>=</span><span class='va'>X_train_micro</span>,time<span class='op'>=</span><span class='va'>Y_train_micro</span>,event<span class='op'>=</span><span class='va'>C_train_micro</span>,nt<span class='op'>=</span><span class='fl'>5</span>,sparse<span class='op'>=</span><span class='cn'>TRUE</span>,
alpha.pvals.expli<span class='op'>=</span><span class='fl'>.15</span><span class='op'>)</span>
</div><div class='output co'>#&gt; ____************************************************____
#&gt; Using big matrix without backing and descriptor files</div><div class='output co'>#&gt; <span class='error'>Error in h(simpleError(msg, call)): erreur d'évaluation de l'argument 'filename' lors de la sélection d'une méthode pour la fonction 'read.big.matrix' : l'argument "data" est manquant, avec aucune valeur par défaut</span></div><div class='input'><span class='fu'>bigplsRcox</span><span class='op'>(</span>Xplan<span class='op'>=</span><span class='op'>~</span><span class='va'>X_train_micro</span>,time<span class='op'>=</span><span class='va'>Y_train_micro</span>,event<span class='op'>=</span><span class='va'>C_train_micro</span>,nt<span class='op'>=</span><span class='fl'>5</span>,sparse<span class='op'>=</span><span class='cn'>TRUE</span>,
alpha.pvals.expli<span class='op'>=</span><span class='fl'>.15</span><span class='op'>)</span>
</div><div class='output co'>#&gt; ____************************************************____
#&gt; Using big matrix without backing and descriptor files</div><div class='output co'>#&gt; <span class='error'>Error in h(simpleError(msg, call)): erreur d'évaluation de l'argument 'filename' lors de la sélection d'une méthode pour la fonction 'read.big.matrix' : l'argument "data" est manquant, avec aucune valeur par défaut</span></div><div class='input'>
</div></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Frederic Bertrand, Myriam Maumy-Bertrand.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


